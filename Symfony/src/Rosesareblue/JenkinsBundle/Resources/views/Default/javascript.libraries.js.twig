<script type="text/javascript">
    function makeCachedRequest(url, callback, params, refreshInterval) {
        var ts = new Date().getTime();
        var sep = "?";
        if (refreshInterval && refreshInterval > 0) {
            ts = Math.floor(ts / (refreshInterval * 1000));
        }
        if (url.indexOf("?") > -1) {
            sep = "&";
        }
        url = [url, sep, "nocache=", ts].join("");
        gadgets.io.makeRequest(url, callback, params);
    }

    function toProperCase(str) {
        var noCaps = ['of', 'a', 'the', 'and', 'an', 'am', 'or', 'nor', 'but', 'is', 'if', 'then', 'else', 'when', 'at', 'from', 'by', 'on', 'off', 'for', 'in', 'out', 'to', 'into', 'with'];
        return str.replace(/\w\S*/g, function(txt, offset) {
            if (offset != 0 && noCaps.indexOf(txt.toLowerCase()) != -1) {
                return txt.toLowerCase();
            }
            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
        });
    }
    </script>